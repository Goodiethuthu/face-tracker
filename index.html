<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Face Tracker</title>

<style>
  body {
    margin: 0;
    background: white;
    height: 100vh;
    display: grid;
    place-items: center;
  }

  /* Choose a fixed display width for desktop */
  .face-container {
    position: relative;
    width: 900px;                 /* <- adjust this if you want bigger/smaller */
    aspect-ratio: 1332 / 758;     /* <- preserves the real image proportions */
  }

  .face-overlay {
    width: 100%;
    height: 100%;
    display: block;
    position: relative;
    z-index: 3;
    pointer-events: none;
  }

  .eye {
    position: absolute;
    width: 110px;     /* eye box size (desktop) */
    height: 110px;
    overflow: visible;
    z-index: 2;       /* behind face */
    transform: translate(-50%, -50%); /* anchor by center point */
  }

  /* Eye centers from your measured data:
     left center = (510, 635) on (1332, 758) => (38.288%, 83.773%)
     right center = (840, 605) => (63.063%, 79.815%)
  */
  .left-eye  { left: 38.288%; top: 83.773%; }
  .right-eye { left: 63.063%; top: 79.815%; }

  .pupil {
    position: absolute;
    width: 55px;
    height: auto;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%); /* baseline centering */
    transition: transform 0.08s ease-out;
    will-change: transform;
  }
</style>
</head>

<body>
  <div class="face-container">
    <div class="eye left-eye">
      <img src="eye.png" class="pupil" alt="" />
    </div>
    <div class="eye right-eye">
      <img src="eye.png" class="pupil" alt="" />
    </div>

    <img src="face.png" class="face-overlay" alt="" />
  </div>

<script>
  document.addEventListener("mousemove", (e) => {
    document.querySelectorAll(".eye").forEach((eye) => {
      const pupil = eye.querySelector(".pupil");
      const r = eye.getBoundingClientRect();

      const cx = r.left + r.width / 2;
      const cy = r.top + r.height / 2;

      const dx = e.clientX - cx;
      const dy = e.clientY - cy;

      const angle = Math.atan2(dy, dx);

      // movement radius (tune this)
      const maxMove = r.width * 0.18;

      const x = Math.cos(angle) * maxMove;
      const y = Math.sin(angle) * maxMove;

      // keep the pupil centered, then offset it
      pupil.style.transform = `translate(-50%, -50%) translate(${x}px, ${y}px)`;
    });
  });
</script>
</body>
</html>
