<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Responsive Face Tracker</title>
<style>
body {
  margin: 0;
  background: white;
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center; /* vertically center */
}

.stage {
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
}

.face-container {
  width: min(25vw, 400px); /* responsive width */
  max-height: 90vh;        /* never taller than viewport */
  aspect-ratio: 1 / 1;     /* keep square */
  position: relative;
}

/* Face overlay on top */
.face-overlay {
  width: 100%;
  display: block;
  position: relative;
  z-index: 3;
  pointer-events: none;
}

/* Eye container */
.eye {
  position: absolute;
  width: 15%;           /* % of face container width */
  aspect-ratio: 1 / 1;
  overflow: visible;
  z-index: 2;
}

/* Correct eye positions inside container (percent of container width/height) */
.left-eye { top: 35%; left: 27%; }
.right-eye { top: 35%; left: 56%; }

/* Pupils scale with eye container */
.pupil {
  width: 50%;
  position: absolute;
  top: 25%;
  left: 25%;
  transition: transform 0.08s ease-out;
}
</style>
</head>
<body>

<div class="stage">
  <div class="face-container">
    <!-- Eyes -->
    <div class="eye left-eye">
      <img src="eye.png" class="pupil" alt="">
    </div>
    <div class="eye right-eye">
      <img src="eye.png" class="pupil" alt="">
    </div>

    <!-- Face overlay -->
    <img src="face.png" class="face-overlay" alt="">
  </div>
</div>

<script>
document.addEventListener("mousemove", (e) => {
  const faceRect = document.querySelector('.face-container').getBoundingClientRect();
  document.querySelectorAll(".eye").forEach(eye => {
    const pupil = eye.querySelector(".pupil");
    const eyeRect = eye.getBoundingClientRect();
    const cx = eyeRect.left + eyeRect.width / 2;
    const cy = eyeRect.top + eyeRect.height / 2;
    const angle = Math.atan2(e.clientY - cy, e.clientX - cx);
    const move = eyeRect.width * 0.25;
    pupil.style.transform = `translate(${Math.cos(angle) * move}px, ${Math.sin(angle) * move}px)`;
  });
});
</script>

</body>
</html>
